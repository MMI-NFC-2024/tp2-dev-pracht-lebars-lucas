---
import Layout from "../layouts/Layout.astro";
---

<Layout>
  <div class="mb-4">
    <a href="/" class="rounded bg-gray-600 text-white px-4 py-2 inline-block">← Retour à l'accueil</a>
  </div>
  
  <h1 class="text-2xl mb-6">Navigation avec iframe</h1>
  
  
  <!-- Iframe affichant les pages d'espèces -->
  <iframe 
    name="species-frame"
    src="/species/Adelie"
    class="w-full border border-gray-300 rounded"
    id="species-iframe"
    style="height: 550px;"
    onload="adjustHeight()"
  ></iframe>
  
  <script>
    // Méthode simple : hauteur fixe adaptative selon l'écran
    function adjustHeight() {
      const iframe = document.getElementById('species-iframe');
      const windowHeight = window.innerHeight;
      
      // Calculer une hauteur équilibrée (60% de la hauteur de l'écran)
      // avec un minimum pour voir l'axe X sans être trop grand
      const newHeight = Math.max(windowHeight * 0.6, 550);
      iframe.style.height = newHeight + 'px';
    }
    
    // Redimensionner quand la fenêtre change de taille
    window.addEventListener('resize', adjustHeight);
    
    // Appeler au chargement
    document.addEventListener('DOMContentLoaded', adjustHeight);
  </script>
  
</Layout>